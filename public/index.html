<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0e6ba8">
    <title>Touris-Ta | Tourism Office Mobile</title>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <!-- SheetJS -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="/css/mobile.css">
    <link rel="stylesheet" href="/css/attraction_survey.css">
</head>
<body>
    <!-- NOTE: This is a STARTER template. -->
    <!-- For the COMPLETE HTML with all features, copy Section 9 from your document. -->
    <div id="splash" class="splash">
        <div class="splash-content">
            <div class="splash-logo">
                <img src="assets/splash.png" alt="TOURIS-TA Logo">
            </div>
            <div class="splash-loader"></div>
        </div>
    </div>

    <header class="app-header" id="appHeader">
        <button class="header-btn" id="menuBtn">
            <i class="fas fa-bars"></i>
        </button>
        <div class="header-title">
            <h1 id="headerTitle">Touris-Ta</h1>
            <p id="headerSubtitle">Tourism Office</p>
        </div>
        <button class="header-btn" id="notifBtn">
            <i class="fas fa-bell"></i>
            <span class="badge-dot" id="notifDot"></span>
        </button>
    </header>

    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <div class="menu-logo">
                <img src="assets/tourista-logo.png" alt="TOURIS-TA Logo" style="width: 80%; height: 80%; object-fit: contain;">
            </div>
            <div class="menu-info">
                <h3 id="menuUserName">Guest</h3>
                <p id="menuUserRole">Not signed in</p>
            </div>
        </div>
        <nav class="menu-nav" id="menuNav"></nav>
        <div class="menu-footer">
            <button class="menu-item" id="menuThemeBtn">
                <i class="fas fa-moon"></i>
                <span>Dark Mode</span>
                <div class="toggle-switch" id="themeToggle">
                    <div class="toggle-slider"></div>
                </div>
            </button>
        </div>
    </div>
    <div class="menu-overlay" id="menuOverlay"></div>

    <main class="app-content" id="appContent">
        <div class="page" id="authPage">
            <div class="auth-container">
                <div class="auth-logo">
                    <img src="assets/tourista-logo.png" alt="TOURIS-TA Logo" style="width: 80%; height: 80%; object-fit: contain;">
                </div>
                <h2 class="auth-title">Welcome to Touris-Ta</h2>
                <p class="auth-subtitle">Iriga City Tourism Reporting System</p>
                
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="login">Login</button>
                    <button class="tab-btn" data-tab="signup">Sign Up</button>
                </div>

                <form class="auth-form" id="loginForm">
                    <div class="form-group">
                        <label><i class="fas fa-user"></i> Username</label>
                        <input type="text" id="loginUsername" placeholder="Enter username" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-lock"></i> Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter password" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </form>

                <form class="auth-form hidden" id="signupForm">
                    <div class="form-group">
                        <label><i class="fas fa-user"></i> Username</label>
                        <input type="text" id="signupUsername" placeholder="Choose username" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-lock"></i> Password</label>
                        <input type="password" id="signupPassword" placeholder="Create password" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-id-card"></i> Full Name</label>
                        <input type="text" id="signupName" placeholder="Your full name" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i> Email (optional)</label>
                        <input type="email" id="signupEmail" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-user-tag"></i> Role</label>
                        <select id="signupRole">
                            <option value="tourist">Tourist / Visitor</option>
                            <option value="establishment">Establishment Owner</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                    <p class="auth-note">
                        <i class="fas fa-info-circle"></i> Account requires admin approval
                    </p>
                </form>
            </div>
        </div>

        <div class="page hidden" id="homePage">
            <div class="card">
                <h3 class="card-title">Quick Actions</h3>
                <div class="action-grid">
                    <button class="action-btn" onclick="navigate('submitPage')">
                        <i class="fas fa-plus-circle"></i>
                        <span>New Survey</span>
                    </button>
                    <button class="action-btn" onclick="navigate('historyPage')">
                        <i class="fas fa-history"></i>
                        <span>History</span>
                    </button>
                    <button class="action-btn admin-only" onclick="navigate('reportsPage')">
                        <i class="fas fa-chart-bar"></i>
                        <span>Reports</span>
                    </button>
                    <button class="action-btn" onclick="navigate('feedbackPage')">
                        <i class="fas fa-comment"></i>
                        <span>Feedback</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="page hidden" id="submitPage">
            <div class="survey-selector">
                <button class="survey-card" onclick="openSurveyForm('attraction')">
                    <div class="survey-icon">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <h3>Attraction Survey</h3>
                    <p>Tourism attractions & sites</p>
                </button>
                <button class="survey-card" onclick="openSurveyForm('accommodation')">
                    <div class="survey-icon">
                        <i class="fas fa-hotel"></i>
                    </div>
                    <h3>Accommodation Survey</h3>
                    <p>Hotels, resorts & lodging</p>
                </button>
            </div>
        </div>

        <div class="page hidden" id="regionalPage">
            <div class="regional-report-container">
                <div class="report-header">
                    <div class="survey-logos">
                        <div class="dot-logo">Department of Tourism</div>
                        <div class="phil-logo">It's More Fun in the Philippines</div>
                    </div>
                    <h2 class="report-title">REPORT ON THE REGIONAL DISTRIBUTION OF TRAVELERS</h2>
                    
                    <!-- Report Controls -->
                    <div class="report-controls">
                        <div class="control-group">
                            <label>City/Municipality:</label>
                            <input type="text" id="report_city" value="Iriga City" class="control-input">
                        </div>
                        <div class="control-group">
                            <label>Province:</label>
                            <input type="text" id="report_province" value="Camarines Sur" class="control-input">
                        </div>
                        <div class="control-group">
                            <label>Year:</label>
                            <select id="report_year" class="control-input">
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" onclick="loadRegionalData()">
                            <i class="fas fa-sync-alt"></i> Load Data
                        </button>
                        <button class="btn btn-success" onclick="saveRegionalData()">
                            <i class="fas fa-save"></i> Save
                        </button>
                    </div>
                </div>

                <!-- Part I: Distribution Table -->
                <div class="spreadsheet-container">
                    <h3 class="section-title">PART I: COUNTRY OF RESIDENCE</h3>
                    <div class="table-responsive">
                        <table class="regional-table" id="distributionTable">
                            <thead>
                                <tr>
                                    <th class="country-col">Country of Residence</th>
                                    <th>Jan</th>
                                    <th>Feb</th>
                                    <th>Mar</th>
                                    <th>Apr</th>
                                    <th>May</th>
                                    <th>Jun</th>
                                    <th>Jul</th>
                                    <th>Aug</th>
                                    <th>Sep</th>
                                    <th>Oct</th>
                                    <th>Nov</th>
                                    <th>Dec</th>
                                    <th class="total-col">Total</th>
                                </tr>
                            </thead>
                            <tbody id="distributionTableBody">
                                <!-- Data will be populated by JavaScript -->
                            </tbody>
                        </table>
                </div>
                <div id="regionalContent"></div>
                    </div>
                </div>

                <!-- Part II: Occupancy Table -->
                <div class="spreadsheet-container">
                    <h3 class="section-title">PART II: OCCUPANCY RATE AND LENGTH OF STAY</h3>
                    <div class="table-responsive">
                        <table class="regional-table" id="occupancyTable">
                            <thead>
                                <tr>
                                    <th class="metric-col">Metric</th>
                                    <th>Jan</th>
                                    <th>Feb</th>
                                    <th>Mar</th>
                                    <th>Apr</th>
                                    <th>May</th>
                                    <th>Jun</th>
                                    <th>Jul</th>
                                    <th>Aug</th>
                                    <th>Sep</th>
                                    <th>Oct</th>
                                    <th>Nov</th>
                                    <th>Dec</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="metric-name">No. of Rooms Occupied</td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="01"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="02"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="03"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="04"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="05"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="06"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="07"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="08"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="09"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="10"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="11"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_occupied" data-month="12"></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">No. of Rooms Available</td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="01"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="02"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="03"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="04"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="05"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="06"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="07"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="08"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="09"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="10"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="11"></td>
                                    <td><input type="number" class="table-input" data-metric="rooms_available" data-month="12"></td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Total Room Nights</td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="01"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="02"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="03"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="04"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="05"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="06"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="07"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="08"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="09"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="10"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="11"></td>
                                    <td><input type="number" class="table-input" data-metric="room_nights" data-month="12"></td>
                                </tr>
                                <tr class="calculated-row">
                                    <td class="metric-name">Occupancy Rate (%)</td>
                                    <td class="calculated-cell" id="occupancy_01">0.00</td>
                                    <td class="calculated-cell" id="occupancy_02">0.00</td>
                                    <td class="calculated-cell" id="occupancy_03">0.00</td>
                                    <td class="calculated-cell" id="occupancy_04">0.00</td>
                                    <td class="calculated-cell" id="occupancy_05">0.00</td>
                                    <td class="calculated-cell" id="occupancy_06">0.00</td>
                                    <td class="calculated-cell" id="occupancy_07">0.00</td>
                                    <td class="calculated-cell" id="occupancy_08">0.00</td>
                                    <td class="calculated-cell" id="occupancy_09">0.00</td>
                                    <td class="calculated-cell" id="occupancy_10">0.00</td>
                                    <td class="calculated-cell" id="occupancy_11">0.00</td>
                                    <td class="calculated-cell" id="occupancy_12">0.00</td>
                                </tr>
                                <tr>
                                    <td class="metric-name">Length of Stay (avg nights)</td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="01"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="02"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="03"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="04"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="05"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="06"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="07"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="08"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="09"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="10"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="11"></td>
                                    <td><input type="number" step="0.1" class="table-input" data-metric="length_of_stay" data-month="12"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="page hidden" id="historyPage">
        <div id="historyContent"></div>
    </div>
        <div class="page hidden" id="feedbackPage"></div>
        <div class="page hidden" id="reportsPage">
        <div id="reportsContent"></div>
    </div>
        <div class="page hidden" id="dataPage"></div>
        <div class="page hidden" id="attractionSurveyPage">
        <div class="page hidden" id="dashboardPage">
            <div id="dashboardContent">
                <div class="dashboard-header">
                    <h2 class="page-title">
                        <i class="fas fa-chart-line"></i> Analytics Dashboard
                    </h2>
                    <p class="page-subtitle">Real-time insights and statistics</p>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Total Surveys</p>
                            <h3 class="stat-number">0</h3>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Accommodation</p>
                            <h3 class="stat-number">0</h3>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-route"></i>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Day Trip</p>
                            <h3 class="stat-number">0</h3>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orange">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <p class="stat-label">Total Visitors</p>
                            <h3 class="stat-number">0</h3>
                        </div>
                    </div>
                </div>
                <div class="charts-container">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <i class="fas fa-chart-bar"></i> Monthly Survey Trends
                            </h3>
                        </div>
                        <div class="chart-body">
                            <canvas id="monthlyChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <i class="fas fa-chart-pie"></i> Survey Distribution
                            </h3>
                        </div>
                        <div class="chart-body">
                            <canvas id="surveyTypePie"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                <i class="fas fa-globe"></i> Top Nationalities
                            </h3>
                        </div>
                        <div class="chart-body">
                            <canvas id="nationalityPie"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <div class="survey-header">
        <div class="survey-logos">
            <div class="dot-logo">Department of Tourism</div>
            <div class="phil-logo">It's More Fun in the Philippines</div>
        </div>
        <h2 class="survey-title">TOURISM ATTRACTION VISITOR SURVEY</h2>
        <p class="survey-instruction">Please answer by encircling the number of your choice and filling in the blanks.</p>
    </div>

    <form id="attractionSurveyForm" class="survey-form">
        <!-- Q1: Residence -->
        <!-- Survey Header Information -->
        <div class="form-section">
            <label class="form-label">Survey Date</label>
        </div>
        <div class="form-section">
            <label class="form-label">Tourist Attraction</label>
            <input type="text" class="form-input" name="attractionName" placeholder="Name of attraction" required>
        </div>
        <div class="form-section">
            <label class="form-label">City / Municipality</label>
            <input type="text" class="form-input" name="city" value="Iriga City" required>
        </div>
        <div class="form-section">
            <label class="form-label">Province</label>
            <input type="text" class="form-input" name="province" value="Camarines Sur" required>
        </div>
        <div class="form-section">
            <label class="form-label">Code</label>
            <input type="text" class="form-input" name="code" placeholder="Optional code">
        </div>
        <div class="form-section">
            <label class="form-label">Enumerator</label>
            <input type="text" class="form-input" name="enumerator" placeholder="Your name" required>
        </div>
        <div class="form-section">
            <label class="form-label">Visit Date</label>
            <input type="date" class="form-input" name="visitDate" required>
        </div>

        <div class="form-section">
            <label class="question-label">Q1 Where is your residence?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="residence" value="in_city" required>
                    <span>1. In this City / Municipality</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="residence" value="outside">
                    <span>2. Outside the Municipality</span>
                </label>
                <div class="indent-group" id="outsideGroup" style="display:none;">
                    <input type="text" class="form-input" placeholder="City / Municipality" name="residenceCity" id="residenceCity">
                    <input type="text" class="form-input" placeholder="Province" name="residenceProvince" id="residenceProvince">
                </div>
                <label class="radio-option">
                    <input type="radio" name="residence" value="foreign">
                    <span>3. Foreign Country</span>
                </label>
                <input type="text" class="form-input" name="foreignCountry" id="foreignCountry" placeholder="Country" style="display:none;">
            </div>
        </div>

        <!-- Q2: Overnight Stay -->
        <div class="form-section">
            <label class="question-label">Q2 Are you going to stay overnight in this city / municipality?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="overnight" value="yes" required>
                    <span>1. Yes - How many night(s) did you spend in this city/municipality?</span>
                </label>
                <input type="number" class="form-input-small" name="nightsCount" id="nightsCount" placeholder="Nights" style="display:none;">
                
                <div class="sub-question" id="accommodationQuestion" style="display:none;">
                    <p>Q2.1.b Are you going to stay in a commercial accommodation establishment?</p>
                    <label class="radio-option-inline">
                        <input type="radio" name="accommodation" value="yes">
                        <span>Yes</span>
                    </label>
                    <label class="radio-option-inline">
                        <input type="radio" name="accommodation" value="no">
                        <span>No</span>
                    </label>
                </div>

                <label class="radio-option">
                    <input type="radio" name="overnight" value="no">
                    <span>2. No</span>
                </label>
            </div>
        </div>

        <!-- Q3: Purpose of Visit -->
        <div class="form-section">
            <label class="question-label">Q3 What is your main purpose for visiting this attraction?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="purpose" value="pleasure" required>
                    <span>1. Pleasure / Recreation</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purpose" value="business">
                    <span>2. Business</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purpose" value="education">
                    <span>3. Educational / Fieldtrip</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purpose" value="health">
                    <span>4. Health and wellness</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purpose" value="other">
                    <span>5. Others. Pls. specify:</span>
                </label>
                <input type="text" class="form-input" name="purposeOther" id="purposeOther" placeholder="Please specify" style="display:none;">
            </div>
        </div>

        <!-- Q4: Rating -->
        <div class="form-section">

        <!-- Q3.1: Mode of Transportation -->
        <div class="form-section">
            <label class="question-label">Q3.1 What mode of transportation did you use to reach this attraction?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="transport" value="private_vehicle" required>
                    <span>1. Private Vehicle</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="public_transport">
                    <span>2. Public Transportation</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="rental">
                    <span>3. Rental Vehicle</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="walk">
                    <span>4. Walking</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="other">
                    <span>5. Other</span>
                </label>
            </div>
        </div>

        <!-- Q3.2: Group Size -->
        <div class="form-section">
            <label class="question-label">Q3.2 How many people are in your travel group (including yourself)?</label>
            <input type="number" class="form-input" name="groupSize" min="1" placeholder="Number of people" required>
        </div>

        <!-- Q3.3: Length of Stay -->
        <div class="form-section">
            <label class="question-label">Q3.3 How many days do you plan to stay in this city/municipality?</label>
            <input type="number" class="form-input" name="stay" min="0" step="0.5" placeholder="Number of days" required>
        </div>
            <label class="question-label">Q4 Please rate this attraction according to the following in a scale of 1 - 4, with 4 being the highest.</label>
            <table class="rating-table">
                <thead>
                    <tr>
                        <th>Attributes</th>
                        <th>1</th>
                        <th>2</th>
                        <th>3</th>
                        <th>4</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Security</td>
                        <td><input type="radio" name="rating_security" value="1" required></td>
                        <td><input type="radio" name="rating_security" value="2"></td>
                        <td><input type="radio" name="rating_security" value="3"></td>
                        <td><input type="radio" name="rating_security" value="4"></td>
                    </tr>
                    <tr>
                        <td>2. Cleanliness</td>
                        <td><input type="radio" name="rating_cleanliness" value="1" required></td>
                        <td><input type="radio" name="rating_cleanliness" value="2"></td>
                        <td><input type="radio" name="rating_cleanliness" value="3"></td>
                        <td><input type="radio" name="rating_cleanliness" value="4"></td>
                    </tr>
                    <tr>
                        <td>3. Presence of activities</td>
                        <td><input type="radio" name="rating_activities" value="1" required></td>
                        <td><input type="radio" name="rating_activities" value="2"></td>
                        <td><input type="radio" name="rating_activities" value="3"></td>
                        <td><input type="radio" name="rating_activities" value="4"></td>
                    </tr>
                    <tr>
                        <td>4. Staff friendliness and overall work attitude</td>
                        <td><input type="radio" name="rating_staff" value="1" required></td>
                        <td><input type="radio" name="rating_staff" value="2"></td>
                        <td><input type="radio" name="rating_staff" value="3"></td>
                        <td><input type="radio" name="rating_staff" value="4"></td>
                    </tr>
                    <tr>
                        <td>5. Value for money</td>
                        <td><input type="radio" name="rating_value" value="1" required></td>
                        <td><input type="radio" name="rating_value" value="2"></td>
                        <td><input type="radio" name="rating_value" value="3"></td>
                        <td><input type="radio" name="rating_value" value="4"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Q5: Visit Frequency -->
        <div class="form-section">
            <label class="question-label">Q5 How many times have you visited this attraction?</label>
            <div class="radio-group-inline">
                <label class="radio-option-inline">
                    <input type="radio" name="visits" value="1" required>
                    <span>1x</span>
                </label>
                <label class="radio-option-inline">
                    <input type="radio" name="visits" value="2">
                    <span>2x</span>
                </label>
                <label class="radio-option-inline">
                    <input type="radio" name="visits" value="3+">
                    <span>3x+</span>
                </label>
            </div>
        </div>

        <!-- Q6: Expenses -->
        <div class="form-section">
            <label class="question-label">Q6.a How much have you spent here in this attraction?</label>
            <div class="expense-group">
                <select class="form-select" id="currency" required>
                    <option value="">Currency</option>
                    <option value="PHP">PHP (₱)</option>
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="other">Other</option>
                </select>
                <input type="text" class="form-input" name="currencyOther" id="currencyOther" placeholder="Specify currency" style="display:none;">
                <input type="number" class="form-input" name="amount" id="amount" placeholder="Amount" required>
            </div>
        </div>

        <div class="form-section">
            <label class="question-label">Q6.b Including yourself, how many person(s) are included in the expense you stated?</label>
            <input type="number" class="form-input-small" name="persons" id="persons" placeholder="Number of persons" required>
        </div>

        <!-- Q7: Personal Profile -->
        <div class="form-section">
            <label class="question-label">Q7 Personal Profile</label>
            <div class="profile-group">
                <div class="profile-item">
                    <label>Age</label>
                    <input type="number" class="form-input-small" name="age" id="age" placeholder="Age" required>
                </div>
                <div class="profile-item">
                    <label>Sex</label>
                    <div class="radio-group-inline">
                        <label class="radio-option-inline">
                            <input type="radio" name="sex" value="M" required>
                            <span>M</span>
                        </label>
                        <label class="radio-option-inline">
                            <input type="radio" name="sex" value="F">
                            <span>F</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>


        <!-- Survey Details -->
<!-- Question: Multiple Nationalities -->
<div class="form-section">
    <label class="question-label">
        <i class="fas fa-globe"></i> Does your group include people from different countries?
    </label>
    <div class="radio-group">
        <label class="radio-option">
            <input type="radio" name="multipleNationalities" value="yes" onchange="handleMultipleNationalitiesChange('yes')">
            <span class="radio-label">Yes</span>
        </label>
        <label class="radio-option">
            <input type="radio" name="multipleNationalities" value="no" onchange="handleMultipleNationalitiesChange('no')">
            <span class="radio-label">No</span>
        </label>
    </div>
</div>

<!-- Multiple Nationalities Feature -->
<div class="form-section" id="nationalitySection" style="display:none;">
    <label class="question-label">
        <i class="fas fa-users"></i> Group Composition by Nationality  
    </label>
    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px;">
        If your group has people from different countries, add them below:
    </p>
    <div id="nationalityList">
        <!-- Nationality rows will be added here -->
    </div>
    <button type="button" class="btn-add-nationality" onclick="addNationalityRow()">
        <i class="fas fa-plus-circle"></i> Add Nationality
    </button>
    <div class="nationality-summary" id="nationalitySummary" style="display:none;">
        <h4>Summary:</h4>
        <div id="summaryContent"></div>
    </div>
</div>

        <p class="thank-you-text">Thank you very much for the time and information you gave for the survey!<br>Enjoy the rest of your stay!</p>
        <div class="form-section">



            <input type="date" class="form-input" name="surveyDate" id="surveyDate" required>
        </div>

        <div class="form-section">
            <label class="form-label">Tourist Attraction</label>
        </div>

        <div class="form-section">
            <label class="form-label">City / Municipality</label>
            <input type="text" class="form-input" name="city" id="city" value="Iriga City" required>
        </div>

        <div class="form-section">
            <label class="form-label">Province</label>
            <input type="text" class="form-input" name="province" id="province" value="Camarines Sur" required>
        </div>

        <div class="form-section">
            <label class="form-label">Enumerator</label>
            <input type="text" class="form-input" name="enumerator" id="enumerator" placeholder="Your name" required>
        </div>

        <div class="form-section">
            <label class="form-label">Code</label>
            <input type="text" class="form-input" name="code" id="code" placeholder="Optional code">
        </div>

        <button type="submit" class="btn btn-primary btn-block">
            <i class="fas fa-paper-plane"></i> Submit Survey
        </button>
    </form>
</div>
        </div>
        <div class="page hidden" id="accommodationSurveyPage">
<div class="survey-form-container">
    <div class="survey-header">
        <div class="survey-logos">
            <div class="dot-logo">Department of Tourism</div>
            <div class="phil-logo">It's More Fun in the Philippines</div>
        </div>
        <h2 class="survey-title">ACCOMMODATION ESTABLISHMENT VISITOR SURVEY</h2>
        <p class="survey-instruction">Please answer by encircling the number of your choice and filling in the blanks.</p>
    </div>

    <form id="accommodationSurveyForm" class="survey-form">
        <!-- Q1: Residence -->
        <div class="form-section">
            <label class="question-label">Q1 Where is your residence?</label>
        <!-- Survey Header Information -->
        <div class="form-section">
            <label class="form-label">Establishment Name</label>
            <input type="text" class="form-input" name="establishmentName" placeholder="Name of hotel/accommodation" required>
        </div>
        <div class="form-section">
            <label class="form-label">Type of Establishment</label>
            <select class="form-select" name="aeType" required>
                <option value="">Select type</option>
                <option value="hotel">Hotel</option>
                <option value="resort">Resort</option>
                <option value="inn">Inn</option>
                <option value="pension">Pension House</option>
                <option value="apartment">Apartment Hotel</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="form-section">
            <label class="form-label">Number of Rooms</label>
            <input type="number" class="form-input" name="numRooms" placeholder="Total rooms" required min="1">
        </div>
        <div class="form-section">
            <label class="form-label">City / Municipality</label>
            <input type="text" class="form-input" name="city" value="Iriga City" required>
        </div>
        <div class="form-section">
            <label class="form-label">Province</label>
            <input type="text" class="form-input" name="province" value="Camarines Sur" required>
        </div>
        <div class="form-section">
            <label class="form-label">Enumerator</label>
            <input type="text" class="form-input" name="enumerator" placeholder="Your name" required>
        </div>
        <div class="form-section">
            <label class="form-label">Survey Date</label>
        </div>
        <div class="form-section">
            <label class="form-label">Check-in Date</label>
            <input type="date" class="form-input" name="checkinDate" required>
        </div>
        <div class="form-section">
            <label class="form-label">Check-out Date</label>
            <input type="date" class="form-input" name="checkoutDate" required>
        </div>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="residence" value="in_city" required>
                    <span>1. In this City / Municipality</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="residence" value="outside">
                    <span>2. Outside the Municipality</span>
                </label>
                <div class="indent-group" id="outsideGroupAccom" style="display:none;">
                    <input type="text" class="form-input" placeholder="City / Municipality" name="residenceCityAccom" id="residenceCityAccom">
                    <input type="text" class="form-input" placeholder="Province" name="residenceProvinceAccom" id="residenceProvinceAccom">
                </div>
                <label class="radio-option">
                    <input type="radio" name="residence" value="foreign">
                    <span>3. Foreign Country</span>
                </label>
                <input type="text" class="form-input" name="foreignCountryAccom" id="foreignCountryAccom" placeholder="Country" style="display:none;">
            </div>
        </div>

        <!-- Q2: Nights Stayed -->
        <div class="form-section">
            <label class="question-label">Q2 How many night(s) did you spend or are you going to stay in this city/municipality?</label>
            <input type="number" class="form-input-small" name="roomNights" id="nightsStayed" placeholder="Number of nights" required min="1">
        </div>

        <!-- Q3: Purpose of Visit -->
        <div class="form-section">
            <label class="question-label">Q3 What is your main purpose for this travel/visit?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="purposeAccom" value="pleasure" required>
                    <span>1. Pleasure / Vacation</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purposeAccom" value="business">
                    <span>2. Business / Professional Work</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purposeAccom" value="visit_friends">
                    <span>3. Visit Friends and Relatives</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purposeAccom" value="meeting">
                    <span>4. Meeting, Incentive, Convention, Exhibition</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="purposeAccom" value="other">
                    <span>5. Others. Pls. specify:</span>
                </label>
                <input type="text" class="form-input" name="purposeOtherAccom" id="purposeOtherAccom" placeholder="Please specify" style="display:none;">
            </div>
        </div>

        <!-- Q4: Attractions Visited -->
        <div class="form-section">
            <label class="question-label">Q4 What attractions did you visit during your stay here in the city/municipality?</label>
            <p style="font-size: 13px; margin-bottom: 10px;">Please rate the attractions in a scale of 1 - 4, 4 being the highest</p>
            
            <div id="attractionsListAccom">
                <!-- Attraction rows will be added dynamically -->
            </div>
            
            <button type="button" class="btn-add-nationality" onclick="addAttractionRow()">
                <i class="fas fa-plus-circle"></i> Add Attraction
            </button>
        </div>

        <!-- Q5: Group Size -->
        <div class="form-section">
            <label class="question-label">Q5 Including yourself, how many person(s) are traveling with you?</label>
            <input type="number" class="form-input-small" name="groupSizeAccom" id="groupSizeAccom" placeholder="Number of persons" required min="1">
        </div>

        <!-- Q6: Traveling With -->
        <div class="form-section">
            <label class="question-label">Q6 Who are you traveling with?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="travelingWith" value="alone" required>
                    <span>1. Alone</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="travelingWith" value="business">
                    <span>2. Business Colleague</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="travelingWith" value="family">
                    <span>3. Family</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="travelingWith" value="friends">
                    <span>4. Friends</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="travelingWith" value="other">
                    <span>5. Others. Pls. specify:</span>
                </label>
                <input type="text" class="form-input" name="travelingWithOther" id="travelingWithOther" placeholder="Please specify" style="display:none;">
            </div>
        </div>

        <!-- Q7.a: Expenses -->
        <div class="form-section">
            <label class="question-label">Q7.a How much have you spent here in the city / municipality?</label>
            <div class="expense-group">
                <select class="form-select" name="currencyAccom" id="currencyAccom" required>
                    <option value="">Currency</option>
                    <option value="PHP">PHP (₱)</option>
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="other">Other</option>
                </select>
                <input type="text" class="form-input" name="currencyOtherAccom" id="currencyOtherAccom" placeholder="Specify currency" style="display:none;">
                <input type="number" class="form-input" name="amountAccom" id="amountAccom" placeholder="Amount" required>
            </div>
        </div>

        <!-- Q7.b: Persons Included in Expense -->
        <div class="form-section">
            <label class="question-label">Q7.b Including yourself, how many person(s) are included in the expense you stated?</label>
            <input type="number" class="form-input-small" name="personsExpenseAccom" id="personsExpenseAccom" placeholder="Number of persons" required min="1">
        </div>

        <!-- Q8: Personal Profile -->
        <div class="form-section">
            <label class="question-label">Q8 Personal Profile</label>
            <div class="profile-group">
                <div class="profile-item">
                    <label>a. Age</label>
                    <input type="number" class="form-input-small" name="ageAccom" id="ageAccom" placeholder="Age" required>
                </div>
                <div class="profile-item">
                    <label>b. Sex</label>
                    <div class="radio-group-inline">
                        <label class="radio-option-inline">
                            <input type="radio" name="sexAccom" value="M" required>
                            <span>M</span>
                        </label>
                        <label class="radio-option-inline">
                            <input type="radio" name="sexAccom" value="F">
                            <span>F</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Q8.5: Mode of Transportation -->
        <div class="form-section">
            <label class="question-label">Q8.5 What mode of transportation did you use to reach this establishment?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="transport" value="private_vehicle" required>
                    <span>1. Private Vehicle</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="public_transport">
                    <span>2. Public Transportation</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="rental">
                    <span>3. Rental Vehicle</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="walk">
                    <span>4. Walking</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="transport" value="other">
                    <span>5. Other</span>
                </label>
            </div>
        </div>

        <!-- Q8.6: Information Source -->
        <div class="form-section">
            <label class="question-label">Q8.6 How did you learn about this establishment?</label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="source" value="internet" required>
                    <span>1. Internet/Website</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="source" value="social_media">
                    <span>2. Social Media</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="source" value="travel_agent">
                    <span>3. Travel Agent</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="source" value="word_of_mouth">
                    <span>4. Word of Mouth</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="source" value="previous_visit">
                    <span>5. Previous Visit</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="source" value="other">
                    <span>6. Other</span>
                </label>
            </div>
        </div>

        <!-- Q9: Multiple Nationalities -->
        <div class="form-section">
            <label class="question-label">
                <i class="fas fa-globe"></i> Q9 Does your group include people from different countries?
            </label>
            <div class="radio-group">
                <label class="radio-option">
                    <input type="radio" name="multipleNationalitiesAccom" value="yes" required>
                    <span class="radio-label">Yes</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="multipleNationalitiesAccom" value="no">
                    <span class="radio-label">No</span>
                </label>
            </div>
        </div>

        <!-- Multiple Nationalities Feature -->
        <div class="form-section" id="nationalitySectionAccom" style="display:none;">
            <label class="question-label">
                <i class="fas fa-users"></i> Group Composition by Nationality
            </label>
            <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px;">
                If your group has people from different countries, add them below:
            </p>
            
            <div id="nationalityListAccom">
                <!-- Nationality rows will be added here -->
            </div>
            
            <button type="button" class="btn-add-nationality" onclick="addNationalityRowAccom()">
                <i class="fas fa-plus-circle"></i> Add Nationality
            </button>
            
            <div class="nationality-summary" id="nationalitySummaryAccom" style="display:none;">
                <h4>Summary:</h4>
                <div id="summaryContentAccom"></div>
            </div>
        </div>

        <p class="thank-you-text">Thank you very much for the time and information you gave for the survey!<br>Enjoy the rest of your stay!</p>

        <!-- Survey Details -->
        <div class="form-section">
            <label class="form-label">Date Accomplished (MM/DD/YYYY)</label>
            <input type="date" class="form-input" id="dateAccomplished" name="surveyDate" required>
        </div>

        <div class="form-section">
            <label class="form-label">Accommodation Establishment</label>
            <input type="text" class="form-input" id="accommodationName" name="establishmentName" placeholder="Establishment name" required>
        </div>

        <div class="form-section">
            <div class="profile-group">
                <div class="profile-item">
                    <label class="form-label">AE Type</label>
                    <input type="text" class="form-input" id="aeType" name="aeType" placeholder="e.g., Hotel, Resort" required>
                </div>
                <div class="profile-item">
                    <label class="form-label">No. of Rooms</label>
                    <input type="number" class="form-input" id="numberOfRooms" name="numRooms" placeholder="Number of rooms" required>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="profile-group">
                <div class="profile-item">
                    <label class="form-label">City / Municipality</label>
                    <input type="text" class="form-input" id="cityAccom" name="city" value="Iriga City" required>
                </div>
                <div class="profile-item">
                    <label class="form-label">Province</label>
                    <input type="text" class="form-input" id="provinceAccom" name="province" value="Camarines Sur" required>
                </div>
            </div>
        </div>

        <div class="form-section">
            <label class="form-label">Enumerator</label>
            <input type="text" class="form-input" id="enumeratorAccom" name="enumerator" placeholder="Your name" required>
        </div>

        <button type="submit" class="btn btn-primary btn-block">
            <i class="fas fa-paper-plane"></i> Submit Survey
        </button>
        </div>
<div class="survey-form-container">
        </button>
    </form>
</div>
    <div class="survey-header">
    </main>

    <nav class="bottom-nav" id="bottomNav">
        <button class="nav-btn active" data-page="homePage">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </button>
        <button class="nav-btn" data-page="submitPage">
            <i class="fas fa-plus-circle"></i>
            <span>Submit</span>
        </button>
        <button class="nav-btn admin-only" data-page="dashboardPage">
            <i class="fas fa-chart-line"></i>
            <span>Dashboard</span>
        </button>
        <button class="nav-btn" data-page="historyPage">
            <i class="fas fa-history"></i>
            <span>History</span>
        </button>
    </nav>

    <button class="fab" id="fab" title="Add Survey">
        <i class="fas fa-plus"></i>
    </button>

    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Modal</h3>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modalCancel">Cancel</button>
                <button class="btn btn-primary" id="modalConfirm">Confirm</button>
            </div>
        </div>
    </div>

    <div class="toast-container" id="toastContainer"></div>

<!-- Dashboard Module -->
<script src="/js/dashboard.js"></script>
<script src="/js/app.js"></script>
<script src="/js/attraction_survey.js"></script>
<script src="/js/conditional_logic.js"></script>
<script src="/js/accommodation_survey.js"></script>
    <script src="/js/history.js"></script>
    <script src="/js/regional-data.js"></script>
    <script src="/js/dashboard-analytics.js"></script>
    <script src="/js/reports.js"></script>
</body>
